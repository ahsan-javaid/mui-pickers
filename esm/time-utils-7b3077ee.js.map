{"version":3,"file":"time-utils-7b3077ee.js","sources":["../../src/constants/ClockType.ts","../../src/_helpers/time-utils.ts"],"sourcesContent":["enum ClockType {\n  HOURS = 'hours',\n\n  MINUTES = 'minutes',\n\n  SECONDS = 'seconds',\n}\n\nexport type ClockViewType = 'hours' | 'minutes' | 'seconds';\n\nexport default ClockType;\n","import { IUtils } from '@date-io/core/IUtils';\nimport { MaterialUiPickersDate } from '../typings/date';\n\nconst center = {\n  x: 260 / 2,\n  y: 260 / 2,\n};\n\nconst basePoint = {\n  x: center.x,\n  y: 0,\n};\n\nconst cx = basePoint.x - center.x;\nconst cy = basePoint.y - center.y;\n\nconst rad2deg = (rad: number) => rad * 57.29577951308232;\n\nconst getAngleValue = (step: number, offsetX: number, offsetY: number) => {\n  const x = offsetX - center.x;\n  const y = offsetY - center.y;\n\n  const atan = Math.atan2(cx, cy) - Math.atan2(x, y);\n\n  let deg = rad2deg(atan);\n  deg = Math.round(deg / step) * step;\n  deg %= 360;\n\n  const value = Math.floor(deg / step) || 0;\n  const delta = Math.pow(x, 2) + Math.pow(y, 2);\n  const distance = Math.sqrt(delta);\n\n  return { value, distance };\n};\n\nexport const getHours = (offsetX: number, offsetY: number, ampm: boolean) => {\n  let { value, distance } = getAngleValue(30, offsetX, offsetY);\n  value = value || 12;\n\n  if (!ampm) {\n    if (distance < 90) {\n      value += 12;\n      value %= 24;\n    }\n  } else {\n    value %= 12;\n  }\n\n  return value;\n};\n\nexport const getMinutes = (offsetX: number, offsetY: number, step = 1) => {\n  const angleStep = step * 6;\n  let { value } = getAngleValue(angleStep, offsetX, offsetY);\n  value = (value * step) % 60;\n\n  return value;\n};\n\nexport const getMeridiem = (\n  date: MaterialUiPickersDate,\n  utils: IUtils<MaterialUiPickersDate>\n): 'am' | 'pm' => {\n  return utils.getHours(date) >= 12 ? 'pm' : 'am';\n};\n\nexport const convertToMeridiem = (\n  time: MaterialUiPickersDate,\n  meridiem: 'am' | 'pm',\n  ampm: boolean,\n  utils: IUtils<MaterialUiPickersDate>\n) => {\n  if (ampm) {\n    const currentMeridiem = utils.getHours(time) >= 12 ? 'pm' : 'am';\n    if (currentMeridiem !== meridiem) {\n      const hours = meridiem === 'am' ? utils.getHours(time) - 12 : utils.getHours(time) + 12;\n\n      return utils.setHours(time, hours);\n    }\n  }\n\n  return time;\n};\n"],"names":["ClockType","center","x","y","basePoint","cx","cy","rad2deg","rad","getAngleValue","step","offsetX","offsetY","atan","Math","atan2","deg","round","value","floor","delta","pow","distance","sqrt","getHours","ampm","getMinutes","angleStep","getMeridiem","date","utils","convertToMeridiem","time","meridiem","currentMeridiem","hours","setHours"],"mappings":"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"}